(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-743acde3"],{"0637":function(e,t,n){},"65ca":function(e,t,n){"use strict";n.r(t);n("b0c0"),n("a9e3");var a=n("7a23"),c=n("9846"),r=n.n(c),o=n("86b5"),i=n.n(o),l=n("e642"),s=n.n(l),d=function(e){return Object(a["pushScopeId"])("data-v-002d99f0"),e=e(),Object(a["popScopeId"])(),e},m={class:"order-page"},u={class:"common-back flex-middle"},f={class:"order-content"},b={class:"total-reward flex-middle"},p={class:"flex-item flex total-reward--left"},g={class:"left-title"},O={class:"flex left-cont"},j={class:"item flex"},v=d((function(){return Object(a["createElementVNode"])("img",{src:r.a,alt:"",class:"icon"},null,-1)})),w={class:"flex-item"},N=d((function(){return Object(a["createElementVNode"])("p",{class:"tit"},"BNX",-1)})),h={class:"num red"},C={class:"item flex"},y=d((function(){return Object(a["createElementVNode"])("img",{src:i.a,alt:"",class:"icon"},null,-1)})),x={class:"flex-item"},k={class:"tit"},V={class:"num red"},E=d((function(){return Object(a["createElementVNode"])("div",{class:"lt-line"},null,-1)})),B={class:"flex-center"},D={class:"btn"},A=d((function(){return Object(a["createElementVNode"])("img",{src:s.a,alt:"",class:"shadow-img"},null,-1)})),L={class:"total-reward flex-middle"},S={class:"flex-item flex total-reward--left"},_={class:"left-title flex-middle"},T=d((function(){return Object(a["createElementVNode"])("div",{class:"flex-middle"},[Object(a["createElementVNode"])("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(a["createElementVNode"])("path",{d:"M8.66659 5.33301V3.99967H7.33325V5.33301H8.66659Z",fill:"#B2856C"}),Object(a["createElementVNode"])("path",{d:"M8.66659 11.9997V6.66634L7.33325 6.66634V11.9997H8.66659Z",fill:"#B2856C"}),Object(a["createElementVNode"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6666 7.99967C14.6666 4.31778 11.6818 1.33301 7.99992 1.33301C4.31802 1.33301 1.33325 4.31778 1.33325 7.99967C1.33325 11.6816 4.31802 14.6663 7.99992 14.6663C11.6818 14.6663 14.6666 11.6816 14.6666 7.99967ZM13.3333 7.99967C13.3333 5.05416 10.9454 2.66634 7.99992 2.66634C5.0544 2.66634 2.66659 5.05416 2.66659 7.99967C2.66659 10.9452 5.0544 13.333 7.99992 13.333C10.9454 13.333 13.3333 10.9452 13.3333 7.99967Z",fill:"#B2856C"})])],-1)})),$={class:"flex left-cont"},G={class:"item flex"},X=d((function(){return Object(a["createElementVNode"])("img",{src:r.a,alt:"",class:"icon"},null,-1)})),R={class:"flex-item"},M=d((function(){return Object(a["createElementVNode"])("p",{class:"tit"},"BNX",-1)})),I={class:"num red"},F={class:"flex left-cont left-cont--s"},H={class:"item flex"},P={class:"flex-item"},U={class:"tit"},Z={class:"num"},q={class:"item flex"},z={class:"flex-item"},J={class:"tit"},W={class:"num"},K=d((function(){return Object(a["createElementVNode"])("div",{class:"lt-line"},null,-1)})),Q={class:"flex-center"},Y=d((function(){return Object(a["createElementVNode"])("div",{class:"line-pic"},null,-1)})),ee={class:"list"},te={class:"role-info flex"},ne={class:"img-box flex-center"},ae={class:"flex-item"},ce={key:0,class:"name text-ellipsis"},re={key:1,class:"name"},oe={class:"level"},ie={class:"tokenid"},le={class:"flex-item flex"},se={class:"dungeon-info flex-item flex-wrap"},de={class:"item w24"},me={class:"tit"},ue={class:"value"},fe={class:"item w76"},be={class:"tit"},pe={class:"value"},ge=d((function(){return Object(a["createElementVNode"])("i",null," / ",-1)})),Oe={class:"item w24"},je={class:"tit"},ve={class:"value"},we={class:"item w76"},Ne={class:"tit"},he={class:"value"},Ce=d((function(){return Object(a["createElementVNode"])("i",null," / ",-1)})),ye=d((function(){return Object(a["createElementVNode"])("i",null," / ",-1)})),xe=d((function(){return Object(a["createElementVNode"])("i",null," / ",-1)})),ke={class:"result-info"},Ve={class:"tit"},Ee={class:"value"},Be={key:0,class:"color-F45250"},De={key:1},Ae={key:2},Le={class:"result-text"},Se={key:0,class:"win"},_e={key:1,class:"fail"},Te={key:0,class:"common-page flex-middle"},$e=d((function(){return Object(a["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[Object(a["createElementVNode"])("path",{d:"M3 11.996L9 6L10.41 7.42L6.85 10.976H21V12.976H6.81L10.41 16.58L9 18L3 11.996Z"})],-1)})),Ge=[$e],Xe={class:"page-num"},Re=d((function(){return Object(a["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[Object(a["createElementVNode"])("path",{d:"M21 12.004L15 18L13.59 16.58L17.15 13.024H3V11.024H17.19L13.59 7.42L15 6L21 12.004Z"})],-1)})),Me=[Re];function Ie(e,t,n,c,r,o){var i=Object(a["resolveComponent"])("el-button"),l=Object(a["resolveComponent"])("el-popover"),s=Object(a["resolveComponent"])("hero-picture"),d=Object(a["resolveComponent"])("hero-name"),$e=Object(a["resolveComponent"])("magic-dialog"),Re=Object(a["resolveComponent"])("order-confirm");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createElementVNode"])("div",m,[Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("div",{class:"back-btn flex-middle",onClick:t[0]||(t[0]=function(t){return e.$router.go(-1)})},Object(a["toDisplayString"])(e.$t("game.返回")),1)]),Object(a["createElementVNode"])("div",f,[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",g,Object(a["toDisplayString"])(e.$t("game.Duplicate Earnings")),1),Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("div",j,[v,Object(a["createElementVNode"])("div",w,[N,Object(a["createElementVNode"])("p",h,Object(a["toDisplayString"])(e.reward.coin),1)])]),Object(a["createElementVNode"])("div",C,[y,Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("p",k,Object(a["toDisplayString"])(e.$t("game.Gold")),1),Object(a["createElementVNode"])("p",V,Object(a["toDisplayString"])(e.reward.money),1)])])])]),E,Object(a["createElementVNode"])("div",B,[Object(a["createElementVNode"])("div",D,[A,Object(a["createVNode"])(i,{type:"primary",class:"btn-primary-bg",onClick:t[1]||(t[1]=function(t){return e.magichouseSign()}),disabled:e.magicDisabled,loading:e.magicDisabled},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.Magic House")),1)]})),_:1},8,["disabled","loading"])]),e.needApproveBNX?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:0,type:"primary",class:"btn btn-primary-bg",onClick:e.BNXApprove},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.授權BNX")),1)]})),_:1},8,["onClick"])):e.needApproveGOLD?(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:1,type:"primary",class:"btn btn-primary-bg",onClick:e.GOLDApprove},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.授權金幣")),1)]})),_:1},8,["onClick"])):(Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:2,type:"primary",class:"btn btn-primary-bg",disabled:e.disabled,loading:e.disabled,onClick:e.drawCheck},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.Claim Reward")),1)]})),_:1},8,["disabled","loading","onClick"]))])]),Object(a["createElementVNode"])("div",L,[Object(a["createElementVNode"])("div",S,[Object(a["createElementVNode"])("div",_,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.Extra Earning"))+" ",1),Object(a["createVNode"])(l,{placement:"top-start",width:300,trigger:"hover","popper-class":"primary-popover",content:e.$t("game.Extra Earning popover")},{reference:Object(a["withCtx"])((function(){return[T]})),_:1},8,["content"])]),Object(a["createElementVNode"])("div",$,[Object(a["createElementVNode"])("div",G,[X,Object(a["createElementVNode"])("div",R,[M,Object(a["createElementVNode"])("p",I,Object(a["toDisplayString"])(e.reward.r_coin),1)])])]),Object(a["createElementVNode"])("div",F,[Object(a["createElementVNode"])("div",H,[Object(a["createElementVNode"])("div",P,[Object(a["createElementVNode"])("p",U,Object(a["toDisplayString"])(e.$t("game.Claimable")),1),Object(a["createElementVNode"])("p",Z,Object(a["toDisplayString"])(e.reward.get_coin),1)])]),Object(a["createElementVNode"])("div",q,[Object(a["createElementVNode"])("div",z,[Object(a["createElementVNode"])("p",J,Object(a["toDisplayString"])(e.$t("game.Daily Extra Income")),1),Object(a["createElementVNode"])("p",W,Object(a["toDisplayString"])(e.reward.l_coin),1)])])])]),K,Object(a["createElementVNode"])("div",Q,[Object(a["createVNode"])(i,{type:"primary",class:"btn btn-primary-bg",onClick:t[2]||(t[2]=function(t){return e.$router.push({name:"Lockup"})})},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.Lock up")),1)]})),_:1})])]),Y,Object(a["createElementVNode"])("div",ee,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(function(t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"row flex",key:t.id},[Object(a["createElementVNode"])("div",te,[Object(a["createElementVNode"])("div",ne,[Object(a["createVNode"])(s,{class:"head-img",heroAddress:t.p_role},null,8,["heroAddress"])]),Object(a["createElementVNode"])("div",ae,[t.c_name?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",ce,Object(a["toDisplayString"])(t.c_name),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",re,[Object(a["createVNode"])(d,{heroAddress:t.p_role},null,8,["heroAddress"])])),Object(a["createElementVNode"])("div",oe,"Lv."+Object(a["toDisplayString"])(t.p_lv),1),Object(a["createElementVNode"])("div",ie,"TokenID : "+Object(a["toDisplayString"])(t.token_id?t.token_id.substring(0,4)+"***"+t.token_id.substring(t.token_id.length-4,t.token_id.length):""),1)])]),Object(a["createElementVNode"])("div",le,[Object(a["createElementVNode"])("div",se,[Object(a["createElementVNode"])("div",de,[Object(a["createElementVNode"])("div",me,Object(a["toDisplayString"])(e.$t("game.Dungeon")),1),Object(a["createElementVNode"])("div",ue,Object(a["toDisplayString"])(t.name),1)]),Object(a["createElementVNode"])("div",fe,[Object(a["createElementVNode"])("div",be,Object(a["toDisplayString"])(e.$t("game.Enemy")),1),Object(a["createElementVNode"])("div",pe,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(t.m_names,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e)+" ",1),ge])})),128))])]),Object(a["createElementVNode"])("div",Oe,[Object(a["createElementVNode"])("div",je,Object(a["toDisplayString"])(e.$t("game.Dungeon Level")),1),Object(a["createElementVNode"])("div",ve,Object(a["toDisplayString"])(t.lv),1)]),Object(a["createElementVNode"])("div",we,[Object(a["createElementVNode"])("div",Ne,Object(a["toDisplayString"])(e.$t("game.Trophy")),1),Object(a["createElementVNode"])("div",he,[Object(a["createElementVNode"])("span",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.gold",{gold:t.r_money})),1),Ce]),Object(a["createElementVNode"])("span",null,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.coins",{bnx:t.r_coin})),1),ye]),t.r_eqs?(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(t.r_eqs,(function(e){return Object(a["openBlock"])(),Object(a["createElementBlock"])("span",{key:e},[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1),xe])})),128)):Object(a["createCommentVNode"])("",!0)])])]),Object(a["createElementVNode"])("div",ke,[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("div",Ve,Object(a["toDisplayString"])(e.$t("game.Status")),1),Object(a["createElementVNode"])("div",Ee,[t.r_status?Number(t.r_money)||Number(t.r_coupon)||Number(t.r_coin)?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Ae,Object(a["toDisplayString"])(e.$t("game.已領取")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",De,Object(a["toDisplayString"])(e.$t("game.無獎勵")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Be,Object(a["toDisplayString"])(e.$t("game.未領取")),1))])]),Object(a["createElementVNode"])("div",Le,[1===t.win?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",Se,"WIN")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",_e,"FAIL"))])])])])})),128))]),e.total&&Math.ceil(e.total/e.limit)>1?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",Te,[Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["prev",{disabled:1===e.page}]),onClick:t[3]||(t[3]=function(){return e.prevPage&&e.prevPage.apply(e,arguments)})},Ge,2),Object(a["createElementVNode"])("div",Xe,Object(a["toDisplayString"])(e.$t("index.第頁共",{page:e.page,total:Math.ceil(e.total/e.limit)})),1),Object(a["createElementVNode"])("div",{class:Object(a["normalizeClass"])(["next",{disabled:e.page===Math.ceil(e.total/e.limit)}]),onClick:t[4]||(t[4]=function(){return e.nextPage&&e.nextPage.apply(e,arguments)})},Me,2)])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])($e,{showMagic:e.showMagic,"onUpdate:showMagic":t[5]||(t[5]=function(t){return e.showMagic=t}),magicInfo:e.magicInfo,address:e.address,onUseMagic:e.useMagic,onEndCast:e.endCast},null,8,["showMagic","magicInfo","address","onUseMagic","onEndCast"]),Object(a["createVNode"])(Re,{showConfirm:e.showConfirm,"onUpdate:showConfirm":t[6]||(t[6]=function(t){return e.showConfirm=t}),reward:e.reward,onConfirm:e.draw,time:e.time},null,8,["showConfirm","reward","onConfirm","time"])],64)}var Fe=n("5530"),He=n("1da1"),Pe=(n("96cf"),n("d3b7"),n("159b"),n("ac1f"),n("1276"),n("01ea")),Ue=n("5502"),Ze=n("47e2"),qe=n("7068"),ze=n("4995"),Je=n("541a"),We=n("722f"),Ke=n("901e"),Qe=n.n(Ke),Ye=n("9d56"),et=n("5f3d"),tt=n("56fe"),nt=n("f4a8"),at=(n("b680"),n("278e")),ct=n.n(at),rt=function(e){return Object(a["pushScopeId"])("data-v-4a93b866"),e=e(),Object(a["popScopeId"])(),e},ot={class:"select-token"},it={class:"sel-head flex-between"},lt=rt((function(){return Object(a["createElementVNode"])("div",{class:"title"},null,-1)})),st=rt((function(){return Object(a["createElementVNode"])("img",{src:ct.a,alt:""},null,-1)})),dt=[st],mt={class:"info role flex-center"},ut=rt((function(){return Object(a["createElementVNode"])("div",{class:"flex-center border"},null,-1)})),ft={class:"info flex-center"},bt={class:"confim-work flex-center"};function pt(e,t,n,c,r,o){var i=Object(a["resolveComponent"])("el-button");return n.showConfirm?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{key:0,class:"select-block",onClick:t[1]||(t[1]=Object(a["withModifiers"])((function(t){return e.isShow=!1}),["self"]))},[Object(a["createElementVNode"])("div",ot,[Object(a["createElementVNode"])("div",it,[lt,Object(a["createElementVNode"])("div",{class:"close",onClick:t[0]||(t[0]=function(t){return e.isShow=!1})},dt)]),Object(a["createElementVNode"])("div",mt,Object(a["toDisplayString"])(e.$t("game.TIPS")),1),ut,Object(a["createElementVNode"])("div",ft,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.$t("game.確定領取嗎？您將損失",{AAA:n.reward.coin,BBB:n.reward.get_coin,XXX:e.Bignumber(n.reward.r_coin).minus(n.reward.get_coin).toFixed(4)})),1)]),Object(a["createElementVNode"])("div",bt,[Object(a["createVNode"])(i,{class:"upgrade",onClick:e.confirm,disabled:n.time>0},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("game.Confirm")),1),n.time>0?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["createTextVNode"])("("+Object(a["toDisplayString"])(n.time)+")",1)],64)):Object(a["createCommentVNode"])("",!0)]})),_:1},8,["onClick","disabled"])])])])):Object(a["createCommentVNode"])("",!0)}var gt={props:{showConfirm:{type:Boolean,defalut:!1},reward:{type:Object},time:{type:Number}},emits:["update:showConfirm","confirm"],setup:function(e,t){var n=t.emit,c=Object(a["reactive"])({Bignumber:Qe.a,isShow:Object(a["computed"])({get:function(){return e.showConfirm},set:function(e){n("update:showConfirm",e)}}),reward:Object(a["computed"])({get:function(){return e.reward}}),confirm:function(){c.isShow=!1,n("confirm")}}),r=Object(a["toRefs"])(c);return Object(Fe["a"])({},r)}},Ot=(n("9e55"),n("6b0d")),jt=n.n(Ot);const vt=jt()(gt,[["render",pt],["__scopeId","data-v-4a93b866"]]);var wt=vt,Nt={components:{HeroPicture:tt["a"],HeroName:nt["a"],MagicDialog:et["a"],OrderConfirm:wt},setup:function(){var e=Object(a["getCurrentInstance"])(),t=e.proxy,n=Object(Ue["b"])(),c=Object(Ze["b"])(),r=c.t,o=Object(a["reactive"])({config:Pe["a"],address:Object(a["computed"])((function(){return n.state.accounts})),web3:Object(a["computed"])((function(){return n.state.provider})),list:[],page:1,limit:20,total:0,reward:{},disabled:!1,GOLDBalance:0,BNXBalance:0,BNXAllowance:0,GOLDAllowance:0,feeContract:null,userBalance:0,BNXContract:null,GOLDContract:null,feeConfig:[],addrConfig:[],paymentType:"",needApproveBNX:!1,needApproveGOLD:!1,feeType:201,showMagic:!1,magicDisabled:!1,magicInfo:{},showConfirm:!1,time:3,timer:null,initContract:function(){o.web3.eth.getBalance(o.address).then((function(e){o.userBalance=e})),o.feeContract=new o.web3.eth.Contract(Je,Pe["a"].FeeAddress),o.BNXContract=new o.web3.eth.Contract(We,Pe["a"].BscAddress),o.GOLDContract=new o.web3.eth.Contract(We,Pe["a"].NewtokenAddress),o.getBalance(),o.getBNXAllowance(),o.getGOLDAllowance(),o.getPaymentTypeFun(),o.getReward(),o.getList()},getPaymentTypeFun:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.feeContract.methods.getFeeConfig(o.feeType).call();case 2:return o.feeConfig=e.sent,e.next=5,o.feeContract.methods.getAddrConfig(o.feeType).call();case 5:o.addrConfig=e.sent,"0x0000000000000000000000000000000000000000"===o.addrConfig[0]&&"0x0000000000000000000000000000000000000000"===o.addrConfig[1]?(o.paymentType="1",o.needApproveBNX=!1,o.needApproveGOLD=!1):"0x0000000000000000000000000000000000000000"!==o.addrConfig[0]&&"0x0000000000000000000000000000000000000000"===o.addrConfig[1]?(o.paymentType="2",o.addrConfig[0]===Pe["a"].BscAddress&&new Qe.a(o.BNXAllowance).lt(o.feeConfig[0])&&(o.needApproveBNX=!0),o.addrConfig[0]===Pe["a"].NewtokenAddress&&new Qe.a(o.GOLDAllowance).lt(o.feeConfig[0])&&(o.needApproveGOLD=!0)):"0x0000000000000000000000000000000000000000"===o.addrConfig[0]&&"0x0000000000000000000000000000000000000000"!==o.addrConfig[1]?(o.paymentType="3",o.addrConfig[1]===Pe["a"].BscAddress&&new Qe.a(o.BNXAllowance).lt(o.feeConfig[1])&&(o.needApproveBNX=!0),o.addrConfig[1]===Pe["a"].NewtokenAddress&&new Qe.a(o.GOLDAllowance).lt(o.feeConfig[1])&&(o.needApproveGOLD=!0)):"0x0000000000000000000000000000000000000000"!==o.addrConfig[0]&&"0x0000000000000000000000000000000000000000"!==o.addrConfig[1]&&(o.paymentType="4",o.addrConfig.forEach((function(e,t){e===Pe["a"].BscAddress&&new Qe.a(o.BNXAllowance).lt(o.feeConfig[t])&&(o.needApproveBNX=!0),e===Pe["a"].NewtokenAddress&&new Qe.a(o.GOLDAllowance).lt(o.feeConfig[t])&&(o.needApproveGOLD=!0)})));case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBalance:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.GOLDContract.methods.balanceOf(o.address).call();case 2:return o.GOLDBalance=e.sent,e.next=5,o.BNXContract.methods.balanceOf(o.address).call();case 5:o.BNXBalance=e.sent;case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getBNXAllowance:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.BNXContract.methods.allowance(o.address,Pe["a"].FeeAddress).call();case 2:t=e.sent,o.BNXAllowance=t,o.needApproveBNX=!1;case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),BNXApprove:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.address){e.next=3;break}return qe["a"].error({title:r("index.連線錢包")}),e.abrupt("return");case 3:o.BNXContract.methods.approve(Pe["a"].FeeAddress,Ye["a"]).send({from:o.address}).then((function(){o.getBNXAllowance()}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getGOLDAllowance:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.GOLDContract.methods.allowance(o.address,Pe["a"].FeeAddress).call();case 2:t=e.sent,o.GOLDAllowance=t,o.needApproveGOLD=!1;case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),GOLDApprove:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.address){e.next=3;break}return qe["a"].error({title:r("index.連線錢包")}),e.abrupt("return");case 3:o.GOLDContract.methods.approve(Pe["a"].FeeAddress,Ye["a"]).send({from:o.address}).then((function(){o.getGOLDAllowance()}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),drawCheck:function(){o.reward.get_coin<o.reward.r_coin?(o.time=3,o.showConfirm=!0,o.timer||(o.timer=setInterval((function(){o.time<=0&&(clearInterval(o.timer),o.timer=null),o.time--}),1e3))):o.draw()},draw:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(){var n,a,c,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.address){e.next=3;break}return qe["a"].error({title:r("index.連線錢包")}),e.abrupt("return");case 3:if(o.addrConfig.length){e.next=6;break}return qe["a"].error({title:r("game.系統操作頻繁，請稍後")}),e.abrupt("return");case 6:if("1"!==o.paymentType&&"3"!==o.paymentType||!new Qe.a(o.userBalance).lt(o.feeConfig[0])){e.next=9;break}return qe["a"].error({title:r("game.手續費不足")}),e.abrupt("return");case 9:if("2"!==o.paymentType){e.next=16;break}if(o.addrConfig[0]!==Pe["a"].BscAddress||!new Qe.a(o.BNXBalance).lt(o.feeConfig[0])){e.next=13;break}return qe["a"].error({title:r("game.BNX餘額不足")}),e.abrupt("return");case 13:if(o.addrConfig[0]!==Pe["a"].NewtokenAddress||!new Qe.a(o.GOLDBalance).lt(o.feeConfig[0])){e.next=16;break}return qe["a"].error({title:r("game.金幣餘額不足")}),e.abrupt("return");case 16:if("3"!==o.paymentType){e.next=23;break}if(o.addrConfig[1]!==Pe["a"].BscAddress||!new Qe.a(o.BNXBalance).lt(o.feeConfig[1])){e.next=20;break}return qe["a"].error({title:r("game.BNX餘額不足")}),e.abrupt("return");case 20:if(o.addrConfig[1]!==Pe["a"].NewtokenAddress||!new Qe.a(o.GOLDBalance).lt(o.feeConfig[1])){e.next=23;break}return qe["a"].error({title:r("game.金幣餘額不足")}),e.abrupt("return");case 23:if("4"!==o.paymentType){e.next=33;break}for(n=!1,a=!1,c=0;c<o.addrConfig.length;c++)i=o.addrConfig[c],l=c,i===Pe["a"].BscAddress&&new Qe.a(o.BNXBalance).lt(o.feeConfig[l])&&(n=!0),i===Pe["a"].NewtokenAddress&&new Qe.a(o.GOLDBalance).lt(o.feeConfig[l])&&(a=!0);if(!n){e.next=30;break}return qe["a"].error({title:r("game.BNX餘額不足")}),e.abrupt("return");case 30:if(!a){e.next=33;break}return qe["a"].error({title:r("game.金幣餘額不足")}),e.abrupt("return");case 33:o.disabled=!0,t.$http.post(t.$dungeonURL+"/v1/user/draw",{GoldAddress:o.address}).then((function(e){ze["a"].success({message:r("game.Claimed successfully"),type:"success",offset:240}),o.getReward(),o.getList(),o.payGas(e.data.uuid)})).catch((function(e){o.disabled=!1,console.log(e)}));case 35:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),payGas:function(){var e=Object(He["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("1"!==o.paymentType){e.next=8;break}return e.next=3,o.feeContract.methods.paymentBnb(t,o.feeType).estimateGas({from:o.address,value:o.feeConfig[0]});case 3:n=e.sent,console.log("gas",n),o.feeContract.methods.paymentBnb(t,o.feeType).send({from:o.address,value:o.feeConfig[0]}).then((function(e){o.disabled=!1,ze["a"].success({message:r("game.手續費支付成功"),type:"success",offset:240})})).catch((function(e){o.disabled=!1,console.log(e),qe["a"].error({title:r("game.手續費支付失敗")})})),e.next=21;break;case 8:if("2"!==o.paymentType){e.next=12;break}o.feeContract.methods.paymentCoin(t,o.feeType,o.addrConfig[0],o.feeConfig[0]).send({from:o.address}).then((function(e){o.disabled=!1,ze["a"].success({message:r("game.手續費支付成功"),type:"success",offset:240})})).catch((function(e){o.disabled=!1,console.log(e),qe["a"].error({title:r("game.手續費支付失敗")})})),e.next=21;break;case 12:if("3"!==o.paymentType){e.next=20;break}return e.next=15,o.feeContract.methods.paymentMulBnb(t,o.feeType,o.addrConfig[1],o.feeConfig[1]).estimateGas({from:o.address,value:o.feeConfig[0]});case 15:a=e.sent,console.log("gas",a),o.feeContract.methods.paymentMulBnb(t,o.feeType,o.addrConfig[1],o.feeConfig[1]).send({from:o.address,value:o.feeConfig[0]}).then((function(e){o.disabled=!1,ze["a"].success({message:r("game.手續費支付成功"),type:"success",offset:240})})).catch((function(e){o.disabled=!1,console.log(e),qe["a"].error({title:r("game.手續費支付失敗")})})),e.next=21;break;case 20:"4"===o.paymentType&&o.feeContract.methods.paymentMulCoin(t,o.feeType,o.addrConfig[0],o.feeConfig[0],o.addrConfig[1],o.feeConfig[1]).send({from:o.address}).then((function(e){o.disabled=!1,ze["a"].success({message:r("game.手續費支付成功"),type:"success",offset:240})})).catch((function(e){o.disabled=!1,console.log(e),qe["a"].error({title:r("game.手續費支付失敗")})}));case 21:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getReward:function(){t.$http.post(t.$dungeonURL+"/v1/user/wallet",{GoldAddress:o.address}).then((function(e){o.reward=e.data}))},getList:function(){t.$http.post(t.$dungeonURL+"/v1/dungeon/loglist",{Page:o.page,GoldAddress:o.address,Limit:o.limit}).then((function(e){var t=e.data.Lists;t.forEach((function(e){e.m_names=e.m_name.split(",")})),o.list=t,o.total=e.data.TotalAmount}))},prevPage:function(){1!==o.page&&(o.page--,o.getList())},nextPage:function(){o.page!==Math.ceil(o.total/o.limit)&&(o.page++,o.getList())},magichouseSign:function(){o.magicDisabled=!0,t.$http.post(t.$dungeonURL+"/v1/user/getaddressnonce",{GoldAddress:o.address}).then((function(e){var t=e.data.nonce+"";o.web3.eth.personal.sign(o.web3.utils.utf8ToHex(t),o.address,"password").then((function(e){var n=e;o.magichouseBegin(n,t)})).catch((function(){o.magicDisabled=!1}))})).catch((function(){o.magicDisabled=!1}))},magichouseBegin:function(e,n){o.magicDisabled=!0,t.$http.post(t.$dungeonURL+"/v1/magichouse/begin",{GoldAddress:o.address,ASign:e,Nonce:n,FromType:1}).then((function(e){o.magicDisabled=!1,o.showMagic=!0,o.magicInfo=e.data})).catch((function(){o.magicDisabled=!1}))},useMagic:function(e){o.magicInfo.ln=e.ln,o.magicInfo.sn=e.sn,o.magicInfo.fn=e.fn,o.magicInfo.r_r=e.r_r,o.magicInfo.r_coupon=e.r_coupon,o.magicInfo.r_money=e.r_money,o.magicInfo.r_coin=e.r_coin},endCast:function(){o.showMagic=!1,o.getReward(),ze["a"].success({message:r("game.施法結束"),type:"success",offset:240})}});o.address&&o.initContract(),Object(a["watch"])((function(){return o.address}),(function(e){e&&o.initContract()}));var i=Object(a["toRefs"])(o);return Object(Fe["a"])({},i)}};n("b174");const ht=jt()(Nt,[["render",Ie],["__scopeId","data-v-002d99f0"]]);t["default"]=ht},"9e55":function(e,t,n){"use strict";n("0637")},b174:function(e,t,n){"use strict";n("c7f4")},c7f4:function(e,t,n){},e642:function(e,t,n){e.exports=n.p+"static/img/Rectangle12915.906414dc.png"}}]);